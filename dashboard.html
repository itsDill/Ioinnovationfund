<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
        }

        .calendar {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
        }

        .month {
            border: 1px solid #ccc;
            padding: 10px;
            background-color: #ffffff;
            width: 30%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .month h3 {
            text-align: center;
            color: #2c3e50;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 10px;
        }

        .calendar-grid div {
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border-radius: 4px;
        }

        .profit {
            background-color: #27ae60;
        }

        .loss {
            background-color: #e74c3c;
        }

        .neutral {
            background-color: #ecf0f1;
            color: #333;
        }

        .summary {
            margin-top: 10px;
            font-size: 14px;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>Trading Dashboard</h1>
    <div class="calendar"></div>

    <script>
        const data = [
            {
                month: "November 2024",
                year: 2024,
                dailyData: [
                    { day: 1, total: 10000, color: "neutral" },
                    { day: 2, total: 10000, color: "neutral" },
                    { day: 3, total: 10000, color: "neutral" },
                    { day: 4, total: 10000, color: "neutral" },
                    { day: 5, total: 10000, color: "neutral" },
                    { day: 6, total: 10000, color: "neutral" },
                    { day: 7, total: 10000, color: "neutral" },
                    { day: 8, total: 10000, color: "neutral" },
                    { day: 9, total: 10000, color: "neutral" },
                    { day: 10, total: 10000, color: "neutral" },
                    { day: 11, total: 10000, color: "neutral" },
                    { day: 12, total: 10010, color: "profit" },
                    { day: 13, total: 10051, color: "profit" },
                    { day: 14, total: 10074, color: "profit" },
                    { day: 15, total: 10082, color: "profit" },
                    { day: 16, total: 10082, color: "neutral" },
                    { day: 17, total: 10082, color: "neutral" },
                    { day: 18, total: 10106, color: "profit" },
                    { day: 19, total: 10093, color: "loss" },
                    { day: 20, total: 10131, color: "profit" },
                    { day: 21, total: 10150, color: "profit" },
                    { day: 22, total: 10175, color: "profit" },
                    { day: 23, total: 10175, color: "neutral" },
                    { day: 24, total: 10175, color: "neutral" },
                    { day: 25, total: 10212, color: "profit" },
                    { day: 26, total: 10000, color: "neutral" },
                    { day: 27, total: 10000, color: "neutral" },
                    { day: 28, total: 10000, color: "neutral" },
                    { day: 29, total: 10000, color: "neutral" },
                    { day: 30, total: 10000, color: "neutral" },
                    { day: 31, total: 10000, color: "neutral" },

                    // Add more days here
                ],
            },

            // Add more months here
        ];

        const calendarDiv = document.querySelector('.calendar');

        // Generate calendars for each month
        data.forEach(({ month, year, dailyData }) => {
            const monthDiv = document.createElement('div');
            monthDiv.classList.add('month');
            monthDiv.innerHTML = `
                <h3>${month} ${year}</h3>
                <div class="calendar-grid"></div>
                <div class="summary"></div>`;
            const grid = monthDiv.querySelector('.calendar-grid');
            const summary = monthDiv.querySelector('.summary');

            // Fill calendar with data
            dailyData.forEach(({ day, total, color }, index) => {
                const dayDiv = document.createElement('div');
                dayDiv.textContent = day;
                dayDiv.classList.add(color);
                dayDiv.dataset.total = total;
                dayDiv.title = `Day ${day}: $${total}`;
                grid.appendChild(dayDiv);
            });

            // Calculate daily, weekly, and monthly returns
            const { dailyReturns, weeklyReturn, monthlyReturn } = calculateReturns(dailyData);

            // Display summary
            summary.innerHTML = `
                Daily Returns: ${dailyReturns.join(', ')}%<br>
                Weekly Return: ${weeklyReturn.toFixed(2)}%<br>
                Monthly Return: ${monthlyReturn.toFixed(2)}%
            `;

            calendarDiv.appendChild(monthDiv);
        });

        function calculateReturns(dailyData) {
            const dailyReturns = [];
            let weeklyStart = dailyData[0]?.total || 0;
            let monthlyStart = dailyData[0]?.total || 0;
            let weeklyEnd = weeklyStart;
            let monthlyEnd = monthlyStart;

            dailyData.forEach((entry, index) => {
                if (index > 0) {
                    const prevTotal = dailyData[index - 1].total;
                    const returnPercent = ((entry.total - prevTotal) / prevTotal) * 100;
                    dailyReturns.push(returnPercent.toFixed(2));
                }
                weeklyEnd = entry.total;
                monthlyEnd = entry.total;

                // Reset weekly tracking every 7 days
                if ((index + 1) % 7 === 0) {
                    weeklyStart = entry.total;
                }
            });

            const weeklyReturn =
                weeklyStart > 0 ? ((weeklyEnd - weeklyStart) / weeklyStart) * 100 : 0;
            const monthlyReturn =
                monthlyStart > 0 ? ((monthlyEnd - monthlyStart) / monthlyStart) * 100 : 0;

            return { dailyReturns, weeklyReturn, monthlyReturn };
        }
    </script>
</body>
</html>
